<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>移动的方块</title>
    <script>
        function draw(){
            var canvas = document.getElementById("canvas");
            var context = canvas.getContext("2d");
            var interal = setInterval(function(){
                move(context);},10);
        }
        var x = 100,y =100;
        var mx = 0,my = 0;
        var m1 = 1;
        var w = 20,h = 20;
        var cw = 400,ch = 300;
        function move(context){
            context.clearRect(0,0,400,300);
            context.fillStyle = "#EEEEFF";
            context.fillRect(0,0,400,300);
            context.fillStyle = "red";
            context.fillRect(x,y,w,h);
            if(mx == 0){
                x = x + m1;
                if(x >= cw - w){
                    mx = 1;
                }
            }
            else{
                x = x - m1;
                if(x <= 0){
                    mx = 0;
                }
            }
            if(my == 0){
                y = y + m1;
                if(y >= ch - h){
                    my = 1;
                }
            }
            else{
                y = y - m1;
                if(y <= 0){
                    my = 0;
                }
            }
        }
        window.addEventListener("load",draw,true);
    </script>
    <style>
        #canvas{
            box-shadow: 0 0 50px gray;
        }
    </style>
</head>
<body  style="text-align: center; width: 100%; background: ghostwhite">

        <canvas id="canvas" style=" margin: 50px auto;" width="400px" height="300px"></canvas>
</body>
</html>