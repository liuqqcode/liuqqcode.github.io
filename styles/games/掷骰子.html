<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>掷骰子</title>
    <style>
        #canvas{
            box-shadow: 5px 5px 10px rgb(96, 113, 119);
            /* box-shadow: -5px -5px 10px rgb(96, 113, 119);  */
             
        }
    </style>
    <script>
        var cwidth = 400,cheight = 300;         //场景宽高
        var dicex = 50,dicey = 50;              //骰子的左边界和顶边界
        var dicewidth = 100,diceheight = 100;   //骰子的宽高
        var dotrad = 8;                         //骰子内的点的半径
        var ctx;                                //画布
        var dx;
        var dy;
        function throwdice(){
            dice1 = 1 + Math.floor(Math.random()*6);
            dx = dicex;
            dy = dicey;
            drawdice(dice1);
            dx = dicex + 150;
            dice2 = 1 + Math.floor(Math.random()*6);
            drawdice(dice2);
            dx = dx + 150;
            var dice3 = 1 + Math.floor(Math.random()*6);
            drawdice(dice3);
            // if(dice1 + dice2 > 6){
            //     window.alert("大! ");
            // }
            // else if(dice1 + dice2 < 6){
            //     window.alert("小! ");
            // }
            // else{
            //     window.alert("重新再掷一次!  ");
            // }
        }
        // 依次画出骰子
        function drawdice(n){
            var dotx;
            var doty;
            ctx = document.getElementById("canvas").getContext("2d");
            ctx.lineWidth = 5;
            ctx.clearRect(dx,dy,dicewidth,diceheight);
            ctx.strokeRect(dx,dy,dicewidth,diceheight);
            ctx.fillStyle = "#FF0000";
            switch(n){
                case 1:{
                    dotx = dx + .5 * dicewidth;
                    doty = dy + .5 * diceheight;
                    drawdot(dotx,doty);
                    break;
                }
                case 2:{
                    dotx = dx + 3 * dotrad;
                    doty = dy + 3 * dotrad;
                    drawdot(dotx,doty);
                    dotx = dx + dicewidth - 3 * dotrad;
                    doty = dy + diceheight - 3 * dotrad;
                    drawdot(dotx,doty);
                    break;
                }
                case 3:{
                    dotx = dx + 3 * dotrad;
                    doty = dy + 3 * dotrad;
                    drawdot(dotx,doty);
                    dotx = dx + .5 * dicewidth;
                    doty = dy + .5 * diceheight;
                    drawdot(dotx,doty);
                    dotx = dx + dicewidth - 3 * dotrad;
                    doty = dy + diceheight - 3 * dotrad;
                    drawdot(dotx,doty);
                    break;
                }
                case 4:{
                    dotx = dx + 3 * dotrad;
                    doty = dy + 3 * dotrad;
                    drawdot(dotx,doty);
                    dotx = dx + dicewidth - 3 * dotrad;
                    doty = dy + diceheight - 3 * dotrad;
                    drawdot(dotx,doty);
                    dotx = dx + 3 * dotrad;
                    doty = dy + diceheight - 3 * dotrad;
                    drawdot(dotx,doty);
                    dotx = dx + dicewidth - 3 * dotrad;
                    doty = dy + 3 * dotrad;
                    drawdot(dotx,doty);
                    break;
                }
                case 5:{
                    dotx = dx + .5 * dicewidth;
                    doty = dy + .5 * diceheight;
                    drawdot(dotx,doty);
                    dotx = dx + 3 * dotrad;
                    doty = dy + 3 * dotrad;
                    drawdot(dotx,doty);
                    dotx = dx + dicewidth - 3 * dotrad;
                    doty = dy + diceheight - 3 * dotrad;
                    drawdot(dotx,doty);
                    dotx = dx + 3 * dotrad;
                    doty = dy + diceheight - 3 * dotrad;
                    drawdot(dotx,doty);
                    dotx = dx + dicewidth - 3 * dotrad;
                    doty = dy + 3 * dotrad;
                    drawdot(dotx,doty);
                    break;
                }
                case 6:{
                    dotx = dx + 3 * dotrad;
                    doty = dy + 3 * dotrad;
                    drawdot(dotx,doty);
                    dotx = dx + dicewidth - 3 * dotrad;
                    doty = dy + diceheight - 3 * dotrad;
                    drawdot(dotx,doty);
                    dotx = dx + 3 * dotrad;
                    doty = dy + diceheight - 3 * dotrad;
                    drawdot(dotx,doty);
                    dotx = dx + dicewidth - 3 * dotrad;
                    doty = dy + 3 * dotrad;
                    drawdot(dotx,doty);
                    dotx = dx + 3 * dotrad;
                    doty = dy + .5 *diceheight;
                    drawdot(dotx,doty);
                    dotx = dx + dicewidth - 3 * dotrad;
                    doty = dy + .5 * diceheight;
                    drawdot(dotx,doty);
                    break;
                }
            }
        }
        function drawdot(dotx,doty){
            ctx.beginPath();
            ctx.arc(dotx,doty,dotrad,0,Math.PI*2,true);
            ctx.closePath();
            ctx.fill();
        }
     


        // function stop(){
        //     clearInterval(int);
            // if(dice1 > dice2){
            //     alert("1赢了!!!");
            // }
            // else if(dice1 < dice2){
            //     alert("2赢了!!!");
            // }
            // else{
            //     alert("平手");
            // }
        // } 
        // function start(){
        //     var int = setInterval(throwdice,50);
        // }
        // function end(){
        //    int = window.clearInterval(int);
        // }   
        // function stop(){
        //     var n = 0;
        //     var bu =  document.getElementById("button");
        //     if(bu.innerHTML == "暂停"){
        //         end();
        //         bu.innerHTML = "开始";
        //     }
        //     else{
        //         start();
        //         bu.innerHTML = "暂停";
        //     }            
        // }
        var abc = 1;
        function stop(){
           
            var bu = document.getElementById("button");
            var out = setTimeout(
                function(){
                    abc++;
                    throwdice();
                    stop();

                },100);
                if(bu.onclick && bu.innerHTML == "开始"){
                    bu.innerHTML = "暂停";
                }
                else if(bu.onclick && bu.innerHTML == "暂停") {
                    clearTimeout(out);
                    bu.innerHTML = "开始";
                }
        }
    </script>
</head>
<body>
    <center>
        <canvas id="canvas" width="500px" height="300px" style="margin-top:100px; background:#eee; border:1px solid rgb(15, 1, 1);"></canvas><br>
        <button id="button" style="margin-top:13px; border-radius:90px; width:70px; height:23px;" onclick="stop();">开始</button><br>
    </center>
</body>
</html>